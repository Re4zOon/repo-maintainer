# GitLab Stale Branch/Merge Request Notifier Configuration
# Copy this file to config.local.yaml and fill in your values

# GitLab connection settings
gitlab:
  url: "https://gitlab.example.com"
  private_token: "your-gitlab-private-token"

# Project IDs to check for stale branches
# IMPORTANT: Only the repositories listed here will be scanned.
# This script does NOT scan all repositories in your GitLab instance.
# You must explicitly list each project ID you want to monitor.
#
# To find a project's ID:
# - In GitLab UI: Go to project page â†’ "Project overview" or "Settings > General"
# - Via API: GET /api/v4/projects?search=project-name
projects:
  - 123
  - 456
  - 789

# Number of days after which a branch is considered stale
stale_days: 30

# Number of weeks until automatic cleanup (mentioned in notification)
cleanup_weeks: 4

# Notification frequency (in days)
# Controls how often the same recipient receives notifications:
# - If a person got an email about branch A on monday and we find a new stale
#   branch/MR on wednesday, we send both on wednesday (new item triggers email)
# - Otherwise, we only send once per notification_frequency_days period
# Default: 7 (once per week)
notification_frequency_days: 7

# Path to SQLite database for tracking notification history
# This database stores when each recipient was last notified about each item
# to prevent sending duplicate notifications too frequently
# Default: ./notification_history.db
database_path: "./notification_history.db"

# Fallback email address for:
# - Inactive users (committers whose GitLab accounts are inactive)
# - Merge requests where assignee/author email cannot be determined
# Notifications will be sent here as a fallback
fallback_email: "repo-maintainers@example.com"

# SMTP server settings for sending emails
smtp:
  host: "smtp.example.com"
  port: 587
  use_tls: true
  username: "notifications@example.com"
  password: "your-smtp-password"
  from_email: "GitLab Maintenance <notifications@example.com>"
